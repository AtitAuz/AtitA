<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>AtitA - –ö–∞—Ñ–µ –ú–æ—Ä–æ–∂–µ–Ω–æ–≥–æ</title>
  <link rel="stylesheet" href="style.css">
  
  <!-- Favicon –∏ –∏–∫–æ–Ω–∫–∏ -->
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">

  <style>
    #profileBtn {
      position: fixed;
      top: 15px;
      right: 15px;
      background: none;
      border: none;
      cursor: pointer;
      z-index: 9999;
    }

    #profileBtn img {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      object-fit: cover;
    }
  </style>
</head>
<body>

<!-- ‚úÖ –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
<button id="profileBtn">
  <img src="images/default-avatar.png" id="header-avatar" alt="–ü—Ä–æ—Ñ–∏–ª—å">
</button>

<header>
  <div class="logo">
    <img src="images/logo.png" alt="AtitA Logo">
  </div>
  <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>
</header>

<nav class="navbar">
  <a href="index.html" class="active" data-i18n="home">–ì–ª–∞–≤–Ω–∞—è</a>
  <a href="menu.html" data-i18n="menu">–ú–µ–Ω—é</a>
  <a href="login.html" data-i18n="login">–í—Ö–æ–¥</a>
  <a href="register.html" data-i18n="register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
</nav>

<!-- –ö–Ω–æ–ø–∫–∏ —è–∑—ã–∫–∞ -->
<div class="lang-switcher">
  <button onclick="setLanguage('ru')">–†–£–°</button>
  <button onclick="setLanguage('uz')">O‚ÄòZB</button>
</div>

<main>
  <section id="slider">
    <h2 data-i18n="popular_flavors">üçß –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–∫—É—Å—ã</h2>
    <div class="slider-container">
      <button class="slider-btn left" onclick="prevSlide()">&#10094;</button>
      <div class="slider">
        <div class="slide">
          <img src="images/icecream chocolade.jpg" alt="–®–æ–∫–æ–ª–∞–¥–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ" width="300" />
          <p data-translate="slide_chocolate">–®–æ–∫–æ–ª–∞–¥</p>
        </div>
        <div class="slide">
          <img src="images/icecream crezm brule.jpg" alt="–ö—Ä–µ–º –ë—Ä—é–ª–µ" width="300" />
          <p data-translate="slide_creme_brulee">–ö—Ä–µ–º –ë—Ä—é–ª–µ</p>
        </div>
        <div class="slide">
          <img src="images/icecream oreo.jpg" alt="–û—Ä–µ–æ" width="300" />
          <p data-translate="slide_oreo">–û—Ä–µ–æ</p>
        </div>
        <div class="slide">
          <img src="images/icecream rafaelo.jpg" alt="–†–∞—Ñ–∞—ç–ª–ª–æ" width="300" />
          <p data-translate="slide_rafaello">–†–∞—Ñ–∞—ç–ª–ª–æ</p>
        </div>
      </div>
      <button class="slider-btn right" onclick="nextSlide()">&#10095;</button>
    </div>
  </section>

  <section>
    <h2 data-i18n="welcome_title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ AtitA!</h2>
    <p data-i18n="welcome_text">–õ—É—á—à–µ–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ –≤ –¢–∞—à–∫–µ–Ω—Ç–µ! ‚Äî —Å–≤–µ–∂–µ—Å—Ç—å –∏ –≤–∫—É—Å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!</p>
  </section>
</main>

<footer>
  <p data-i18n="footer">&copy; 2023 AtitA. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>

<script>
  let currentIndex = 0;
  function updateSlider() {
    const slider = document.querySelector('.slider');
    const slideWidth = 320;
    slider.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
  }

  function prevSlide() {
    if (currentIndex > 0) {
      currentIndex--;
      updateSlider();
    }
  }

  function nextSlide() {
    const totalSlides = document.querySelectorAll('.slide').length;
    if (currentIndex < totalSlides - 1) {
      currentIndex++;
      updateSlider();
    }
  }

  const translations = {
    ru: {
      slide_chocolate: "–®–æ–∫–æ–ª–∞–¥",
      slide_creme_brulee: "–ö—Ä–µ–º –ë—Ä—é–ª–µ",
      slide_oreo: "–û—Ä–µ–æ",
      slide_rafaello: "–†–∞—Ñ–∞—ç–ª–ª–æ",
      home: "–ì–ª–∞–≤–Ω–∞—è",
      menu: "–ú–µ–Ω—é",
      login: "–í—Ö–æ–¥",
      register: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
      popular_flavors: "üçß –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–∫—É—Å—ã",
      welcome_title: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ AtitA!",
      welcome_text: "–õ—É—á—à–µ–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ –≤ –¢–∞—à–∫–µ–Ω—Ç–µ! ‚Äî —Å–≤–µ–∂–µ—Å—Ç—å –∏ –≤–∫—É—Å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!",
      footer: "&copy; 2023 AtitA. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã."
    },
    uz: {
      slide_chocolate: "Shokolad",
      slide_creme_brulee: "Krem bryule",
      slide_oreo: "Oreo",
      slide_rafaello: "Rafaello",
      home: "Bosh sahifa",
      menu: "Menyu",
      login: "Kirish",
      register: "Ro‚Äòyxatdan o‚Äòtish",
      popular_flavors: "üçß Mashhur ta ºmlar",
      welcome_title: "AtitA ºga xush kelibsiz!",
      welcome_text: "Toshkentdagi eng yaxshi muzqaymoq ‚Äî har kuni yangilik va lazzat!",
      footer: "&copy; 2023 AtitA. Barcha huquqlar himoyalangan."
    }
  };

  function setLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
      const key = el.getAttribute('data-i18n');
      if (translations[lang][key]) {
        el.innerHTML = translations[lang][key];
      }
    });
    localStorage.setItem('lang', lang);
  }

  document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('lang') || 'ru';
    setLanguage(savedLang);

    // ‚úÖ –û–±–Ω–æ–≤–ª—è–µ–º –∞–≤–∞—Ç–∞—Ä –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ
    const profile = JSON.parse(localStorage.getItem('user_profile'));
    if (profile && profile.avatar) {
      const avatarEl = document.getElementById('header-avatar');
      if (avatarEl) avatarEl.src = profile.avatar;
    }
  });

  function toggleMenu() {
    const navbar = document.querySelector('.navbar');
    navbar.classList.toggle('mobile-visible');
  }

  // ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ "–ü—Ä–æ—Ñ–∏–ª—å"
  document.getElementById('profileBtn').addEventListener('click', () => {
    const profileData = localStorage.getItem('user_profile');
    if (profileData) {
      window.location.href = 'profile.html';
    } else {
      alert('–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.');
    }
  });
</script>

</body>
</html>